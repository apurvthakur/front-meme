{"ast":null,"code":"var _jsxFileName = \"/Users/apurv/Code/meme-main/front-meme/src/ui/show.js\";\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\n\n/* eslint-disable jsx-a11y/alt-text */\nimport React, { Component } from 'react';\nimport './show.css';\nimport qs from 'qs';\nimport Navbar from './navbar';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class show extends Component {\n  constructor(props) {\n    super(props);\n\n    this.changeHandler = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleclick = id => {\n      this.setState({\n        display: 'block',\n        id: id\n      });\n      console.log(id);\n    };\n\n    this.closeModal = () => {\n      this.setState({\n        display: 'none'\n      });\n    };\n\n    this.updateFunction = e => {\n      e.preventDefault();\n      const headers = {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\"\n      }; // const dataupdate = qs.stringify({\n      //     caption: (this.state.caption),\n      //     url:this.state.url\n      // });\n\n      let dataUpdate = {};\n      if (this.state.caption !== '') dataUpdate.caption = this.state.caption;\n      if (this.state.url !== '') dataUpdate.url = this.state.url;\n      dataUpdate = qs.stringify(dataUpdate);\n      console.log(e);\n      const requrl = \"https://meme-app-stream.herokuapp.com/memes/\" + this.state.id;\n      console.log(requrl);\n      axios.patch(requrl, dataUpdate, {\n        headers: headers\n      }).then(res => {\n        console.log(res);\n      }).catch(err => {\n        console.log(\"ERROR: ====\", err);\n        alert(err);\n      }); // this.setState({\n      //     display: 'none'\n      // });\n    };\n\n    this.state = {\n      data: [],\n      caption: '',\n      url: '',\n      display: 'none',\n      id: ''\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"https://meme-app-stream.herokuapp.com/memes\").then(res => {\n      console.log(res.data);\n      this.setState({\n        data: res.data.reverse()\n      });\n    });\n  }\n\n  render() {\n    const cardrender = this.state.data.map((pos, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '30%',\n          minWidth: 'fit-content',\n          display: 'inline-block'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"post\",\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            style: {\n              borderBottom: '1px solid #eeeeee',\n              paddingBottom: '1.5%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: pos.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 90\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              onClick: () => {\n                this.handleclick(index);\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: '23px',\n                  textDecoration: 'none',\n                  color: 'black',\n                  cursor: 'pointer'\n                },\n                class: \"material-icons right grey-text\",\n                children: \"more_vert\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 67\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            class: \"center\",\n            style: {\n              color: '#bdbdbd',\n              fontSize: '13px'\n            },\n            children: [\"Last updated on: \", pos.updatedAt.slice(0, 10), \" at \", pos.updatedAt.slice(11, 19)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"row \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col s12 m12 l6\",\n              style: {\n                width: \"100%\",\n                marginLeft: \"auto\",\n                marginRight: \"auto\",\n                overflow: \"hidden\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: pos.url,\n                    width: \"100%\",\n                    height: \"200px\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: pos.caption\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"mainshow grey center lighten-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"modal1\",\n        class: \"custom_modal\",\n        style: {\n          marginTop: '10%',\n          display: this.state.display,\n          borderRadius: '20px',\n          border: '5px solid indigo'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"close_icon\",\n          onClick: () => {\n            this.closeModal();\n          },\n          style: {\n            marginRight: '5px'\n          },\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"modal-content\",\n          style: {\n            margin: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Update this Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 17\n          }, this), console.log(this.state.data.id), console.log(this.state.data), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Meme Owner: \", this.state.id !== '' ? this.state.data[this.state.id].name : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.updateFunction,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"input-field col s12\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"caption\",\n                  type: \"text\",\n                  name: \"caption\",\n                  class: \"validate\",\n                  onChange: this.changeHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"caption\",\n                  children: \"Caption your submission\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"input-field col s12\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"memeurl\",\n                  type: \"text\",\n                  name: \"url\",\n                  class: \"validate\",\n                  onChange: this.changeHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"memeurl\",\n                  children: \"Meme URL\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              class: \"indigo\",\n              type: \"submit\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Submit my meme\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 58\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"lottie-player\", {\n        src: \"https://assets6.lottiefiles.com/private_files/lf30_azuifv5c.json\",\n        background: \"transparent\",\n        speed: \"1\",\n        style: {\n          width: '1580px',\n          height: '100px'\n        },\n        autoplay: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 203\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 212\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 221\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"main center white container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col s12 l4 m6\",\n          children: cardrender\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/apurv/Code/meme-main/front-meme/src/ui/show.js"],"names":["React","Component","qs","Navbar","axios","show","constructor","props","changeHandler","e","setState","target","name","value","handleclick","id","display","console","log","closeModal","updateFunction","preventDefault","headers","dataUpdate","state","caption","url","stringify","requrl","patch","then","res","catch","err","alert","data","componentDidMount","get","reverse","render","cardrender","map","pos","index","width","minWidth","borderBottom","paddingBottom","fontSize","textDecoration","color","cursor","updatedAt","slice","marginLeft","marginRight","overflow","marginTop","borderRadius","border","margin","height"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\r\n/* eslint-disable jsx-a11y/alt-text */\r\nimport React, { Component } from 'react'\r\nimport './show.css';\r\nimport qs from 'qs';\r\nimport Navbar from './navbar';\r\nimport axios from 'axios';\r\nexport default class show extends Component{\r\n\r\n    constructor(props){\r\n        super(props)\r\n\r\n        this.state = {\r\n            data: [],\r\n            caption: '',\r\n            url: '',\r\n            display: 'none',\r\n            id: ''\r\n        }\r\n    };\r\n\r\n    changeHandler = (e) => {\r\n        this.setState({[e.target.name]: e.target.value })\r\n    }\r\n    handleclick = (id)=> {\r\n        this.setState({\r\n            display: 'block',\r\n            id: id\r\n        });\r\n        console.log(id);\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({\r\n            display: 'none'\r\n        })\r\n    }\r\n\r\n    updateFunction=(e)=>{\r\n        e.preventDefault();\r\n\r\n        const headers = {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",    \r\n            \"Access-Control-Allow-Origin\": \"*\",\r\n            \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\"\r\n        };\r\n        // const dataupdate = qs.stringify({\r\n        //     caption: (this.state.caption),\r\n        //     url:this.state.url\r\n        // });\r\n        let dataUpdate= {};\r\n        if(this.state.caption!=='')\r\n            dataUpdate.caption = this.state.caption;\r\n        if(this.state.url!=='')\r\n            dataUpdate.url = this.state.url;\r\n        dataUpdate = qs.stringify(dataUpdate);\r\n        \r\n        console.log(e);\r\n        const requrl = \"https://meme-app-stream.herokuapp.com/memes/\"+this.state.id;\r\n        console.log(requrl);\r\n        axios.patch(requrl, dataUpdate, {headers:headers})\r\n        .then(res => {\r\n            console.log(res);    \r\n        })\r\n        .catch((err) => {\r\n            console.log(\"ERROR: ====\", err);\r\n            alert(err);\r\n        });\r\n        // this.setState({\r\n        //     display: 'none'\r\n        // });\r\n\r\n    }\r\n    \r\n    componentDidMount(){\r\n        axios.get(\"https://meme-app-stream.herokuapp.com/memes\")\r\n            .then(res => {\r\n                console.log(res.data);\r\n                this.setState({\r\n                    data: res.data.reverse()\r\n                  })\r\n            });\r\n        }\r\n\r\n        \r\n        \r\n    render(){\r\n    const cardrender = (\r\n    this.state.data.map((pos,index) => {\r\n        return(\r\n            <div key={index} style={{width: '30%', minWidth:'fit-content', display:'inline-block'}}>\r\n                <br></br>\r\n                <div class=\"post\">\r\n                    <h6 style={{borderBottom:'1px solid #eeeeee', paddingBottom:'1.5%'}}><b>{pos.name}</b>\r\n                    <a onClick= {() => {this.handleclick(index)}}><span style={{fontSize:'23px', textDecoration:'none', color:'black', cursor:'pointer'}} class=\"material-icons right grey-text\">more_vert</span></a></h6>\r\n                    <p class=\"center\" style={{color:'#bdbdbd', fontSize:'13px'}}>Last updated on: {pos.updatedAt.slice(0,10)} at {pos.updatedAt.slice(11,19)}</p>\r\n                    <div class=\"row \">\r\n                        <div class=\"col s12 m12 l6\" style={{width:\"100%\", marginLeft:\"auto\", marginRight:\"auto\", overflow:\"hidden\"}}>\r\n                            <div class=\"center\">\r\n                                <div class=\"\" >\r\n                                    <img src={pos.url} width=\"100%\" height=\"200px\"/>\r\n                                </div>\r\n                                <div class=\"\">\r\n                                    <p>{pos.caption}</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            <br></br>\r\n        </div>\r\n\r\n        )}))\r\n    \r\n    return (\r\n        <div class=\"mainshow grey center lighten-3\">\r\n        <div id=\"modal1\" class=\"custom_modal\" style={{marginTop:'10%', display: this.state.display, borderRadius:'20px', border: '5px solid indigo'}}>\r\n        <span className='close_icon' onClick={() => {this.closeModal()}} style={{marginRight:'5px'}}>Close</span>\r\n            <div class=\"modal-content\" style={{margin:'10px'}}>\r\n                <h4>Update this Post</h4>\r\n                {console.log(this.state.data.id)}\r\n                {console.log(this.state.data)}\r\n                <p>Meme Owner: {this.state.id!== '' ?this.state.data[(this.state.id)].name:null}</p>\r\n                \r\n                <form onSubmit= {this.updateFunction}>\r\n                    <div class=\"row\">\r\n                        <div class=\"input-field col s12\">\r\n                        <input id=\"caption\" type=\"text\" name=\"caption\" class=\"validate\"  onChange={this.changeHandler}/>\r\n                        <label for=\"caption\">Caption your submission</label>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"input-field col s12\"> \r\n                            <input id=\"memeurl\" type=\"text\" name=\"url\" class=\"validate\"   onChange={this.changeHandler}/>\r\n                        <label for=\"memeurl\">Meme URL</label>\r\n                        </div>\r\n                    </div>\r\n                    <button class=\"indigo\" type=\"submit\"><b>Submit my meme</b></button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n\r\n        <Navbar />\r\n        <br></br>\r\n        <lottie-player src=\"https://assets6.lottiefiles.com/private_files/lf30_azuifv5c.json\"  background=\"transparent\"  speed=\"1\"  style={{width: '1580px', height: '100px'}}   autoplay></lottie-player><br></br><br></br><br></br>\r\n        \r\n            <div class=\"main center white container\">\r\n            <div class=\"col s12 l4 m6\">\r\n                {\r\n                    cardrender\r\n                }\r\n            </div>\r\n            </div>\r\n            <br></br>\r\n            <br></br>\r\n        </div>\r\n    )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}